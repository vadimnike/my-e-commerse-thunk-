import React, {Component} from 'react';
import {connect} from 'react-redux'
import {fetchPhones} from 'actions'
import {getPhones} from 'selectors'//import selector for rendering phones

class Phones extends Component {
    componentDidMount(){
        this.props.fetchPhones()
    }

    renderPhones(phone, index){
        return(
            <div className="col-sm-4 col-md-4 col-lg-4 book-list" key={index}>
                <div className="thumbnail">
                    <img src={phone.image}
                         alt={phone.name}
                         className="img-thumbnail"/>
                </div>
            </div>
        )
    }

    render() {
        const {phones} = this.props;
        return (
            <div>
                <div className="books row">
                    {phones.map((phone, index)=> this.renderPhones(phone, index))}
                </div>
            </div>
        )
    }
};

const mapStateToProps = state =>({
    phones: getPhones(state)
})

const mapDispatchToProps = {
    fetchPhones
}

export default connect(mapStateToProps, mapDispatchToProps)(Phones);